language: java
before_install:
- sudo rm /usr/local/bin/docker-compose
- curl -L https://github.com/docker/compose/releases/download/${DOCKER_COMPOSE_VERSION}/docker-compose-'uname
  -s'-'uname -m' > docker-compose
- chmod +x docker-compose
- sudo mv docker-comose /usr/local/bin
- docker login -u "$DOCKER_USERNAME" -p "$DOCKER_PASSWORD"
install:
- mvn install -Dmaven.javadoc.skip=true -B -V
- ls -l
- docker build --build-arg JAR_FILE=/target/backend.jar -t $DOCKER_USERNAME/se234-lab10-backend
  .
- docker push dto80/se234-lab10-backend
- docker pull dto80/se234-lab10-client
script:
- docker-compose -H "$DOCKER_HOST" up -d
cache: 
directories:
- "$HOME/.m2"
env:
  global:
  - secure: idENlmyfw+GQ9iHORwU12Eqdu+a1J9DgTh49pwvZIKWUp6N2wbh8o+7ZC1AGtgOlaffK2rkNIpBflUsKwCmyDyJ7WJzEFM+hWsjgXk4Y5sz1k2cXHfCTM3/8WTNrRd688Vv5cL7H13XtNkxm8FhScTXmh4yp1uqys8wVPsGsIDUmo00l6XO0ZeZtjX1YF2PaHY1+siPAj7L8zwoHM65i8WyU0xYLPYf4ZhACRvE25Cpy6UcKQshOVMV2zFcEuf5yBPglasLEdoTf1dfopOaJJsYq2MAaCpAAlr/HJN9hIg5WiZX/wXXrNSaBe4ykRL+GRpL3DdTaxfkuUxuEmRBekaNHgyjADyMufPmVhYufFgF7GZJGtuU2H3Ny8rc1jJ8nwnDskWvhsBZExyr6CRQE8nolzyKI+WBpuEbXRyGzSwdmLdiyKfJ4fiHLTG4lukyscuhFkZjI6tFrJXFmTSqB/pFLDcsbeeUZ1XchBwrloWCp8+DSChphc1Hs6fEZarwCrL3sIPYtVD6sYf4+43KgFVUViXDdvJoAunjrtfPMfjVB+d5KrzFk5qxGf+G99Gcb17f9Ye85v/1Uu/ejH2c2Zjb1g/lj9LLhaRsyjCsmhdojiCDIcRUk9D1RxXHAdesEINYvYLVl2RfOCOlCk+n3PlutNBU/rnpVBbv7o2PYyLc=
  - secure: L4oJi2UazVnaivNvVWCoscjkiuILjw9+ZiTU844qQw/PDZAd8CfH+V6wUbqXdsHNLWc4KG8J5edfY/lslGFW/xObqkCdhZiAR9yS5OXNVVwLixBol/cOEwkD0+tmkO2EvDJ0XXTuh8DJI9FF3KtFi/zYRlxobqWsQ0JEFQO7HinHy+9JeSgWehaLfoNKKKl1ATjE826uWsapp3pcjU2WIj4H2ui2K2weJBw2SauAWwyhzAvX08evqxZfZITH+0cWORcqeoGRjcz1TOmpPZ0poX4M0XrT2QBesg5Rey2GUpDk5QfJQKtByVoRSO9cX2HXNr7cEZQQ1sFPAv6dSNBRXJgMVQy1dsHLBueOEOssNP3L2g2iqGSswIa2cMKS3EK8IWQvQsPpQzrk2L/hUj3kFmhcRFOxoo2iNho0ThNGna4G5eXJozx4T9/YKesbXCIjZqaxJtURC0x0n7bsDdlgJyh1wnI8uHruqjOuDqbAowYibKvPKQt1fvjC8bHXeeBOi4pflS3Jt5Os3HIsEFsxB/EiPyUuuqXsoG+pxruBswS6OSwy2WvKH8QzikTZjDdhHsIHmOvCPUxVu+RMdzJ9/ZfSw5l4burQBoL4PzaBdbKntkbAFRtoXvXkzZNdezK7efl40EQS8l47oKUx5hVaSxI0vMJ6I7MAT6Rv728Yn4Q=
  - secure: najnOmQVjd0LqwWvtuu6r83DbtKtNoMp3UW/Cxo3BCU4VG6xkLw6jDDpUalRJ1KF24E6CXGhPr4ecdZjyl3fcOYEu70IKlk1KZv05GUWNT618GBDFGBad546sJOSWc1NKQrmjMTAgi9+1lh4bXUfwyZK9vXWPxKED7Qma5zaXeqZrtLWJCI9Cz3LdauA4RnTAx4qUFsoShUQl38NYaaNOnGDS5rSXpiZHfHSsrU7B2HLAivExprk0xj+P27OekocBx8OUw/la9Z/ZJhihL4gU3Uxuk57JscioQnGRCU5OER/BbBuBvCvhbv6CkiTLDYQa+E5bgPNAi2ZCWlsJz2jqleVHJchf3WE2e2aa0rX7TczsM8T93OQCCF1PUKOkDnttV3bzJrMaKOmBwv7rKZ7/i7IC/J9rxlQgRqjH5ll0Y6XTp72fwXJwKFsShiiegtApVACdJdxhmIi0rxzOCLvd1gqUdzxXOmC1KP+LXts+NBaCj/y61wbqx4WiNHk5EpBBQx0Kt94ViWx7/3sEOCrnFqCL9df4k98rBjSM5/DMdmxAUAlgBkfE1NYPV6ERNSfXDHaHMkyWr+xk0CgXExZn+WAjIP3FvtfTre2+XRgH3K/vO0CtdG6r5EEg4F3MF38DWIOpt8KHuVMR/5nzNvlKNEmMjMV+errgNZrNzLTwa0=
